<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Valentine</title>

<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(#ff0033, #ff7b9c);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-family: 'Comic Neue', cursive;
  overflow: hidden;
}

h1 {
  color: white;
  font-size: 3rem;
  margin-bottom: 40px;
}

.container {
  position: relative;
}

button {
  border: none;
  padding: 20px 50px;
  font-size: 1.5rem;
  border-radius: 999px;
  cursor: pointer;
  position: absolute;
}

#yes {
  background: #ffd1dc;
  color: #a80028;
  left: -120px;
  z-index: 1;
  transition: transform 0.15s linear;
}

#no {
  background: #8b0000;
  color: white;
  left: 120px;
  z-index: 2;
}

.rose {
  position: fixed;
  width: 20vw;
  height: 20vw;
  background: radial-gradient(circle, #ff0000, #b30000);
  border-radius: 50%;
  animation: explode 1.2s ease-out forwards;
  pointer-events: none;
}

@keyframes explode {
  from { transform: scale(0); opacity: 1; }
  to { transform: scale(1); opacity: 0; }
}
</style>
</head>

<body>

<h1>Veux-tu Ãªtre ma valentine ?</h1>

<div class="container">
  <button id="yes">Oui</button>
  <button id="no">Non</button>
</div>

<audio id="music" src="music.mp3"></audio>

<script>
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const music = document.getElementById("music");

let scale = 1;

// OUI grossit avec le mouvement global
document.addEventListener("mousemove", () => {
  scale += 0.01;
  if (scale > 1.5) scale = 1.5;
  yes.style.transform = `scale(${scale})`;
});

// NON fuit la souris et passe au-dessus de OUI
document.addEventListener("mousemove", (e) => {
  const rect = no.getBoundingClientRect();
  const dx = e.clientX - (rect.left + rect.width / 2);
  const dy = e.clientY - (rect.top + rect.height / 2);
  const dist = Math.sqrt(dx*dx + dy*dy);

  if (dist < 150) {
    no.style.left = Math.random() * (window.innerWidth - 100) + "px";
    no.style.top  = Math.random() * (window.innerHeight - 100) + "px";
  }
});

// Explosion de roses
function explodeRoses(count) {
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      const rose = document.createElement("div");
      rose.className = "rose";
      rose.style.left = Math.random() * 80 + "vw";
      rose.style.top = Math.random() * 80 + "vh";
      document.body.appendChild(rose);
      setTimeout(() => rose.remove(), 1200);
    }, i * 120);
  }
}

// CLIC OUI
yes.addEventListener("click", () => {
  music.play();
  explodeRoses(10);

  setTimeout(() => {
    window.location.href = "success.html";
  }, 1200);
});
</script>

</body>
</html>
